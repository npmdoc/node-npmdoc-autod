<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/node-modules/autod#readme">autod (v2.8.0)</a>
</h1>
<h4>auto generate dependencies</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.autod">module autod</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.autod.autod">
            function <span class="apidocSignatureSpan"></span>autod
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.autod.index">
            function <span class="apidocSignatureSpan">autod.</span>index
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.autod.super_">
            function <span class="apidocSignatureSpan">autod.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">autod.</span>index.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">autod.</span>USER_AGENT</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.autod.index">module autod.index</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.autod.index.index">
            function <span class="apidocSignatureSpan">autod.</span>index
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.autod.index.super_">
            function <span class="apidocSignatureSpan">autod.index.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">autod.index.</span>USER_AGENT</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.autod.index.prototype">module autod.index.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.autod.index.prototype.findJsFile">
            function <span class="apidocSignatureSpan">autod.index.prototype.</span>findJsFile
            <span class="apidocSignatureSpan">(root, exclude)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.autod.index.prototype.listVersions">
            function <span class="apidocSignatureSpan">autod.index.prototype.</span>listVersions
            <span class="apidocSignatureSpan">(deps, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.autod.index.prototype.parse">
            function <span class="apidocSignatureSpan">autod.index.prototype.</span>parse
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.autod.index.prototype.parseFile">
            function <span class="apidocSignatureSpan">autod.index.prototype.</span>parseFile
            <span class="apidocSignatureSpan">(filePath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.autod.index.prototype.removeExclude">
            function <span class="apidocSignatureSpan">autod.index.prototype.</span>removeExclude
            <span class="apidocSignatureSpan">(dirs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.autod.index.prototype.requestNpmAll">
            function <span class="apidocSignatureSpan">autod.index.prototype.</span>requestNpmAll
            <span class="apidocSignatureSpan">(name, range, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.autod.index.prototype.requestNpmTag">
            function <span class="apidocSignatureSpan">autod.index.prototype.</span>requestNpmTag
            <span class="apidocSignatureSpan">(name, tag, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.autod.index.prototype.resolveWithRoot">
            function <span class="apidocSignatureSpan">autod.index.prototype.</span>resolveWithRoot
            <span class="apidocSignatureSpan">(dirs)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.autod" id="apidoc.module.autod">module autod</a></h1>


    <h2>
        <a href="#apidoc.element.autod.autod" id="apidoc.element.autod.autod">
        function <span class="apidocSignatureSpan"></span>autod
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">autod = function (options) {
  if (!(this instanceof Autod)) {
    return new Autod(options);
  }
  options = options || {};
  if (!options.root) {
    throw new Error('need options.root!');
  }
  this.root = path.resolve(options.root);

  EventEmitter.call(this);

  this.exclude = options.exclude || [];
  if (!Array.isArray(this.exclude)) {
    this.exclude = [this.exclude];
  }

  this.exclude = this.exclude.concat(['node_modules', '.git', 'cov', 'coverage']);
  this.exclude = this.resolveWithRoot(this.exclude);
  this.testRoots = options.test || [];
  this.testRoots = this.testRoots.concat(['test', 'benchmark', 'example', 'example.js']);
  this.testRoots = this.resolveWithRoot(this.testRoots);
  this.testRoots = this.removeExclude(this.testRoots);
  this.registry = (options.registry || 'https://registry.npmjs.org').replace(/\/$/, '');
  this.dep = options.dep || [];
  this.devdep = options.devdep || [];
  this.dependencyMap = {};
  this.semver = options.semver || {};
  this.notransform = options.notransform;
  if (options.plugin) {
    try {
      var pluginPath = path.join(process.cwd(), 'node_modules', options.plugin);
      this.plugin = require(pluginPath);
    } catch (err) {
      throw new Error('plugin ' + options.plugin + ' not exist!');
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.autod.index" id="apidoc.element.autod.index">
        function <span class="apidocSignatureSpan">autod.</span>index
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">index = function (options) {
  if (!(this instanceof Autod)) {
    return new Autod(options);
  }
  options = options || {};
  if (!options.root) {
    throw new Error('need options.root!');
  }
  this.root = path.resolve(options.root);

  EventEmitter.call(this);

  this.exclude = options.exclude || [];
  if (!Array.isArray(this.exclude)) {
    this.exclude = [this.exclude];
  }

  this.exclude = this.exclude.concat(['node_modules', '.git', 'cov', 'coverage']);
  this.exclude = this.resolveWithRoot(this.exclude);
  this.testRoots = options.test || [];
  this.testRoots = this.testRoots.concat(['test', 'benchmark', 'example', 'example.js']);
  this.testRoots = this.resolveWithRoot(this.testRoots);
  this.testRoots = this.removeExclude(this.testRoots);
  this.registry = (options.registry || 'https://registry.npmjs.org').replace(/\/$/, '');
  this.dep = options.dep || [];
  this.devdep = options.devdep || [];
  this.dependencyMap = {};
  this.semver = options.semver || {};
  this.notransform = options.notransform;
  if (options.plugin) {
    try {
      var pluginPath = path.join(process.cwd(), 'node_modules', options.plugin);
      this.plugin = require(pluginPath);
    } catch (err) {
      throw new Error('plugin ' + options.plugin + ' not exist!');
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.autod.super_" id="apidoc.element.autod.super_">
        function <span class="apidocSignatureSpan">autod.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.autod.index" id="apidoc.module.autod.index">module autod.index</a></h1>


    <h2>
        <a href="#apidoc.element.autod.index.index" id="apidoc.element.autod.index.index">
        function <span class="apidocSignatureSpan">autod.</span>index
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">index = function (options) {
  if (!(this instanceof Autod)) {
    return new Autod(options);
  }
  options = options || {};
  if (!options.root) {
    throw new Error('need options.root!');
  }
  this.root = path.resolve(options.root);

  EventEmitter.call(this);

  this.exclude = options.exclude || [];
  if (!Array.isArray(this.exclude)) {
    this.exclude = [this.exclude];
  }

  this.exclude = this.exclude.concat(['node_modules', '.git', 'cov', 'coverage']);
  this.exclude = this.resolveWithRoot(this.exclude);
  this.testRoots = options.test || [];
  this.testRoots = this.testRoots.concat(['test', 'benchmark', 'example', 'example.js']);
  this.testRoots = this.resolveWithRoot(this.testRoots);
  this.testRoots = this.removeExclude(this.testRoots);
  this.registry = (options.registry || 'https://registry.npmjs.org').replace(/\/$/, '');
  this.dep = options.dep || [];
  this.devdep = options.devdep || [];
  this.dependencyMap = {};
  this.semver = options.semver || {};
  this.notransform = options.notransform;
  if (options.plugin) {
    try {
      var pluginPath = path.join(process.cwd(), 'node_modules', options.plugin);
      this.plugin = require(pluginPath);
    } catch (err) {
      throw new Error('plugin ' + options.plugin + ' not exist!');
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.autod.index.super_" id="apidoc.element.autod.index.super_">
        function <span class="apidocSignatureSpan">autod.index.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.autod.index.prototype" id="apidoc.module.autod.index.prototype">module autod.index.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.autod.index.prototype.findJsFile" id="apidoc.element.autod.index.prototype.findJsFile">
        function <span class="apidocSignatureSpan">autod.index.prototype.</span>findJsFile
        <span class="apidocSignatureSpan">(root, exclude)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findJsFile = function (root, exclude) {
  try {
      if (fs.statSync(root).isFile()) {
      return [root];
    }
  } catch (err) {
    // ignore
  }

  //exclude path
  exclude = exclude || [];
  if (!Array.isArray(exclude)) {
    exclude = [exclude];
  }
  var excludeMap = {};
  exclude.forEach(function (e) {
    excludeMap[e] = 1;
  });

  function parseDir(dir) {
    if (!dir) {
      return {
        dirs: [],
        jsFiles: []
      };
    }
    dir = path.resolve(dir);
    var files = [];
    var dirs = [];
    var jsFiles = [];
    try {
      files = fs.readdirSync(dir);
    } catch (err) {
      return {
        dirs: dirs,
        jsFiles: jsFiles
      };
    }

    files.forEach(function (file) {
      var filePath = path.join(dir, file);
      if (excludeMap[filePath] === 1) {
        return;
      }
      var stat = fs.statSync(filePath);
      if (!stat.isFile()) {
        return dirs.push(filePath);
      }
      var extname = path.extname(filePath);
      if (!extname || extname === '.js' || extname === '.jsx') {
        jsFiles.push(filePath);
      }
    });
    return {
      dirs: dirs,
      jsFiles: jsFiles
    };
  }

  var dirs = [root];
  var jsFiles = [];
  do {
    var result = parseDir(dirs.pop());
    jsFiles = jsFiles.concat(result.jsFiles);
    dirs = dirs.concat(result.dirs);
  } while(dirs.length);
  debug('in folder %s exclude %j, get js files: %j',
    root, Object.keys(excludeMap), jsFiles);
  return jsFiles;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      } else {
        delete self.dependencyMap[dep];
      }
    });
  });
  return Object.keys(depMap);
}
var deps = getDeps(this.<span class="apidocCodeKeywordSpan">findJsFile</span>(this.root, depExclude));
// add deps input
deps = deps.concat(this.dep);

var devDeps = [];
this.testRoots.forEach(function (testRoot) {
  devDeps = devDeps.concat(getDeps(this.findJsFile(testRoot, this.exclude)));
}.bind(this));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.autod.index.prototype.listVersions" id="apidoc.element.autod.index.prototype.listVersions">
        function <span class="apidocSignatureSpan">autod.index.prototype.</span>listVersions
        <span class="apidocSignatureSpan">(deps, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listVersions = function (deps, callback) {
  if (!deps.length) {
    callback(null, {});
  }
  var self = this;
  var queue = new bagpipe(5);
  var count = deps.length;
  var versions = {};
  var errNames = [];
  function done() {
    if (--count === 0) {
      debug('list versions get %j, error package names: %j', versions, errNames);
      var err = null;
      if (errNames.length) {
        err = new Error(util.format('package %j get remote version error.', errNames));
        err.names = errNames;
      }
      return callback(err, versions);
    }
  }

  deps.forEach(function (name) {
    var tag = 'latest';
    var handler = self.requestNpmTag.bind(self);

    var inputTag = self.semver[name];
    if (inputTag) {
      if (semver.validRange(inputTag)) handler = self.requestNpmAll.bind(self);
      tag = inputTag;
    }

    queue.push(handler, name, tag, function (err, version) {
      if (err) {
        errNames.push(name);
      } else {
        versions[name] = version;
      }
      done();
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var devDeps = [];
this.testRoots.forEach(function (testRoot) {
  devDeps = devDeps.concat(getDeps(this.findJsFile(testRoot, this.exclude)));
}.bind(this));
// add devdeps input
devDeps = devDeps.concat(this.devdep);

self.<span class="apidocCodeKeywordSpan">listVersions</span>(deps, function (err, depVersions) {
  var isError = false;
  var errNames = [];
  if (err) {
    isError = true;
    errNames = errNames.concat(err.names || []);
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.autod.index.prototype.parse" id="apidoc.element.autod.index.prototype.parse">
        function <span class="apidocSignatureSpan">autod.index.prototype.</span>parse
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (callback) {
  var depExclude = this.exclude.concat(this.testRoots);
  var self = this;

  function isCoreModule(name) {
    var filename;
    try {
      filename = require.resolve(name);
    } catch (err) {
      return false;
    }
    return filename === name;
  }

  function getDeps(files) {
    var depMap = {};
    files.forEach(function (file) {
      self.parseFile(file).forEach(function (dep) {
        if (!isCoreModule(dep)) {
          depMap[dep] = 1;
        } else {
          delete self.dependencyMap[dep];
        }
      });
    });
    return Object.keys(depMap);
  }
  var deps = getDeps(this.findJsFile(this.root, depExclude));
  // add deps input
  deps = deps.concat(this.dep);

  var devDeps = [];
  this.testRoots.forEach(function (testRoot) {
    devDeps = devDeps.concat(getDeps(this.findJsFile(testRoot, this.exclude)));
  }.bind(this));
  // add devdeps input
  devDeps = devDeps.concat(this.devdep);

  self.listVersions(deps, function (err, depVersions) {
    var isError = false;
    var errNames = [];
    if (err) {
      isError = true;
      errNames = errNames.concat(err.names || []);
    }

    self.listVersions(devDeps, function (err, devDepVersions) {
      if (err) {
        isError = true;
        errNames = union(errNames, err.names);
      }

      for (var key in devDepVersions) {
        if (depVersions.hasOwnProperty(key)) {
          delete devDepVersions[key];
        }
      }

      for (var key in self.dependencyMap) {
        self.dependencyMap[key] = union(self.dependencyMap[key]);
      }

      var result = {
        dependencies: depVersions || {},
        devDependencies: devDepVersions || {},
        map: self.dependencyMap
      };
      if (isError) {
        err = new Error(util.format('package %j get remote version error.', errNames));
        err.map = self.dependencyMap;
        err.names = errNames;
        var errorMap = {};
        errNames.forEach(function (name) {
          errorMap[name] = self.dependencyMap[name];
        });
        err.errorMap = errorMap;
        return callback(err, result);
      }
      callback(null, result);
    });
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};
urllib.request(url, options, function (err, result) {
  var errmsg = '';
  if (err) {
    return callback(err);
  }
  try {
    result = JSON.<span class="apidocCodeKeywordSpan">parse</span>(result);
  } catch (e) {
    errmsg = 'parse origin package info error. ' + e.message;
    return callback(new Error(errmsg));
  }
  var remoteVersion = result &amp;&amp; result.version;
  if (!remoteVersion) {
    return callback(new Error('no match remote version with tag ' + tag));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.autod.index.prototype.parseFile" id="apidoc.element.autod.index.prototype.parseFile">
        function <span class="apidocSignatureSpan">autod.index.prototype.</span>parseFile
        <span class="apidocSignatureSpan">(filePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseFile = function (filePath) {
  var file;
  try {
    file = fs.readFileSync(filePath, 'utf-8');
    if (!this.notransform) {
      var res = babel.transform(file, {
        presets: [require('babel-preset-react'), require('babel-preset-es2015'), require('babel-preset-stage-0')],
      });
      file = res.code;
    }
  } catch (err) {
    this.emit('warn', util.format('Read(or transfrom) file %s error', filePath));
  }
  var modules = [];
  var self = this;

  crequire(file, true).forEach(function (r) {
    var parsed = MODULE_REG.exec(r.path);
    if (!parsed) {
      return;
    }
    var scope = parsed[1];
    var name = parsed[2];
    if (scope) {
      name = scope + name;
    }
    modules.push(name);
    self.dependencyMap[name] = self.dependencyMap[name] || [];
    self.dependencyMap[name].push(filePath);
  });

  // support plugin parse file
  if (this.plugin) {
    var pluginModules = this.plugin(filePath, file) || [];
    pluginModules.forEach(function (name) {
      modules.push(name);
      self.dependencyMap[name] = self.dependencyMap[name] || [];
      self.dependencyMap[name].push(filePath);
    })
  }

  debug('file %s get modules %j', filePath, modules);
  return modules;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return filename === name;
}

function getDeps(files) {
  var depMap = {};
  files.forEach(function (file) {
    self.<span class="apidocCodeKeywordSpan">parseFile</span>(file).forEach(function (dep) {
      if (!isCoreModule(dep)) {
        depMap[dep] = 1;
      } else {
        delete self.dependencyMap[dep];
      }
    });
  });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.autod.index.prototype.removeExclude" id="apidoc.element.autod.index.prototype.removeExclude">
        function <span class="apidocSignatureSpan">autod.index.prototype.</span>removeExclude
        <span class="apidocSignatureSpan">(dirs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeExclude = function (dirs) {
  return dirs.filter(function (dir) {
    return this.exclude.indexOf(dir) === -1;
  }, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

this.exclude = this.exclude.concat(['node_modules', '.git', 'cov', 'coverage']);
this.exclude = this.resolveWithRoot(this.exclude);
this.testRoots = options.test || [];
this.testRoots = this.testRoots.concat(['test', 'benchmark', 'example', 'example.js']);
this.testRoots = this.resolveWithRoot(this.testRoots);
this.testRoots = this.<span class="apidocCodeKeywordSpan">removeExclude</span>(this.testRoots);
this.registry = (options.registry || 'https://registry.npmjs.org').replace(/\/$/, '');
this.dep = options.dep || [];
this.devdep = options.devdep || [];
this.dependencyMap = {};
this.semver = options.semver || {};
this.notransform = options.notransform;
if (options.plugin) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.autod.index.prototype.requestNpmAll" id="apidoc.element.autod.index.prototype.requestNpmAll">
        function <span class="apidocSignatureSpan">autod.index.prototype.</span>requestNpmAll
        <span class="apidocSignatureSpan">(name, range, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestNpmAll = function (name, range, callback) {
  var url = this.registry + '/' + name;
  var options = {
    headers: {
      'user-agent': Autod.USER_AGENT,
    },
    gzip: true,
    timeout: 10000
  };
  urllib.request(url, options, function (err, result) {
    var errmsg = '';
    if (err) {
      return callback(err);
    }
    try {
      result = JSON.parse(result);
    } catch (e) {
      errmsg = 'parse origin package info error. ' + e.message;
      return callback(new Error(errmsg));
    }

    if (!result.versions) {
      return callback(new Error('can not get versions of ' + name));
    }

    var version = semver.maxSatisfying(Object.keys(result.versions), range);
    if (!version) {
      var msg = util.format('can not found any match version of %s with range of %s', name, range);
      return callback(new Error(msg));
    }

    return callback(null, version);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.autod.index.prototype.requestNpmTag" id="apidoc.element.autod.index.prototype.requestNpmTag">
        function <span class="apidocSignatureSpan">autod.index.prototype.</span>requestNpmTag
        <span class="apidocSignatureSpan">(name, tag, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestNpmTag = function (name, tag, callback) {
  if (typeof tag === 'function') {
    callback = tag;
    tag = 'latest';
  }

  var url = this.registry + '/' + name + '/' + tag;
  var options = {
    headers: {
      'user-agent': Autod.USER_AGENT,
    },
    gzip: true,
    timeout: 10000
  };
  urllib.request(url, options, function (err, result) {
    var errmsg = '';
    if (err) {
      return callback(err);
    }
    try {
      result = JSON.parse(result);
    } catch (e) {
      errmsg = 'parse origin package info error. ' + e.message;
      return callback(new Error(errmsg));
    }
    var remoteVersion = result &amp;&amp; result.version;
    if (!remoteVersion) {
      return callback(new Error('no match remote version with tag ' + tag));
    }
    callback(null, remoteVersion);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.autod.index.prototype.resolveWithRoot" id="apidoc.element.autod.index.prototype.resolveWithRoot">
        function <span class="apidocSignatureSpan">autod.index.prototype.</span>resolveWithRoot
        <span class="apidocSignatureSpan">(dirs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolveWithRoot = function (dirs) {
  return dirs.map(function (dir) {
    return path.resolve(this.root, dir);
  }, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

this.exclude = options.exclude || [];
if (!Array.isArray(this.exclude)) {
  this.exclude = [this.exclude];
}

this.exclude = this.exclude.concat(['node_modules', '.git', 'cov', 'coverage']);
this.exclude = this.<span class="apidocCodeKeywordSpan">resolveWithRoot</span>(this.exclude);
this.testRoots = options.test || [];
this.testRoots = this.testRoots.concat(['test', 'benchmark', 'example', 'example.js']);
this.testRoots = this.resolveWithRoot(this.testRoots);
this.testRoots = this.removeExclude(this.testRoots);
this.registry = (options.registry || 'https://registry.npmjs.org').replace(/\/$/, '');
this.dep = options.dep || [];
this.devdep = options.devdep || [];
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>